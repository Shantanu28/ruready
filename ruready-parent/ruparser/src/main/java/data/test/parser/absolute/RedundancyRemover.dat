//======================================================================
// Absolute Canonicalization / Redundancy Removal Stage
// Regression Tests - Data File
//======================================================================
// The allowed variables in all expressions are
// "x", "y", "z".
// Each test is two-line group:
// Line 1: input expression
// Line 2: //redundantTokens syntaxTree
//======================================================================

//==================== Testing options =================================
// Format: $ parameterName = parameterValue
// Note: names and values are case-sensitive!

$ stopOnFirstError = true

//==================== Tests that fail =================================

(2+3i)
1 BOP$+$D { N$2$D { } BOP$*$D { N$3$D { } C$i$D { } } }

//==================== Basic operations ================================

2
0 N$2$D { }

(2)
1 N$2$D { }

((2))
2 N$2$D { }

x
0 V$x$D { }

(x)
1 V$x$D { }

2+3
0 BOP$+$D { N$2$D { } N$3$D { } }

(2+3)
1 BOP$+$D { N$2$D { } N$3$D { } }

2-3
0 BOP$-$D { N$2$D { } N$3$D { } }

(2-3)
1 BOP$-$D { N$2$D { } N$3$D { } }

2*(3)
1 BOP$*$D { N$2$D { } N$3$D { } }

(1)+2
1 BOP$+$D { N$1$D { } N$2$D { } }

//==================== Complex arithmetic ===============================
(2+3i)
1 BOP$+$D { N$2$D { } BOP$*$D { N$3$D { } C$i$D { } } }

//==================== Implicit Multiplication =========================

2 (3)
1 BOP$*$D { N$2$D { } N$3$D { } }

//==================== Operation precedence and association =============

//%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
// Both parent, child are equal
//%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

(2+3)+4
1 BOP$+$D { BOP$+$D { N$2$D { } N$3$D { } } N$4$D { } }

2+(3+4)
1 BOP$+$D { N$2$D { } BOP$+$D { N$3$D { } N$4$D { } } }

(2-3)-4
1 BOP$-$D { BOP$-$D { N$2$D { } N$3$D { } } N$4$D { } }

2-(3-4)
0 BOP$-$D { N$2$D { } P$Paren$D { BOP$-$D { N$3$D { } N$4$D { } } } }

(2*3)*4
1 BOP$*$D { BOP$*$D { N$2$D { } N$3$D { } } N$4$D { } }

2*(3*4)
1 BOP$*$D { N$2$D { } BOP$*$D { N$3$D { } N$4$D { } } }

(2/3)/4
1 BOP$/$D { BOP$/$D { N$2$D { } N$3$D { } } N$4$D { } }

2/(3/4)
0 BOP$/$D { N$2$D { } P$Paren$D { BOP$/$D { N$3$D { } N$4$D { } } } }

(2^3)^4
0 BOP$^$D { P$Paren$D { BOP$^$D { N$2$D { } N$3$D { } } } N$4$D { } }

2^(3^4)
1 BOP$^$D { N$2$D { } BOP$^$D { N$3$D { } N$4$D { } } }

//%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
// Both parent, child have equal precedence but are not equal operations
//%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

// Parent is non-commutative

(2+3)-4
1 BOP$-$D { BOP$+$D { N$2$D { } N$3$D { } } N$4$D { } }

4-(2+3)
0 BOP$-$D { N$4$D { } P$Paren$D { BOP$+$D { N$2$D { } N$3$D { } } } }

// Parent is commutative

(2-3)+4
1 BOP$+$D { BOP$-$D { N$2$D { } N$3$D { } } N$4$D { } }

4+(2-3)
1 BOP$+$D { N$4$D { } BOP$-$D { N$2$D { } N$3$D { } } }


//==================== Unary + =========================================

+x
1 V$x$D { }

+(x)
2 V$x$D { }
